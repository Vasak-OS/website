{{ define "main" }}
<main class="px-6 py-8">
  {{ partial "widgets/breadcrumbs.html" . }}
  <div class="flex justify-between mx-auto">
    <div class="w-full lg:w-8/12">
      <div class="px-8">
        <div
          class="flex flex-col px-16 py-10 mx-auto bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-200 rounded-xl shadow-md"
          id="article">
          <h1 class="text-center text-vsk1">{{.Title}}</h1>
          {{ .Content }}
        </div>

        <!-- Navegación entre artículos -->
        <div class="flex justify-between mt-8 gap-4">
          {{ $current := . }}
          {{ $siblings := where $current.Parent.Pages ".IsSection" false }}
          {{ $currentIndex := 0 }}
          
          {{ range $index, $page := $siblings }}
            {{ if eq $page.RelPermalink $current.RelPermalink }}
              {{ $currentIndex = $index }}
            {{ end }}
          {{ end }}

          <!-- Artículo anterior -->
          {{ if gt $currentIndex 0 }}
            {{ $prevArticle := index $siblings (sub $currentIndex 1) }}
            <a href="{{ $prevArticle.RelPermalink }}" class="flex-1 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-vsk1 hover:text-white dark:hover:bg-vsk1 transition-colors">
              <div class="text-sm text-gray-500 dark:text-gray-400 mb-1">← Anterior</div>
              <div class="font-semibold">{{ $prevArticle.Title }}</div>
            </a>
          {{ else }}
            <div class="flex-1"></div>
          {{ end }}

          <!-- Artículo siguiente -->
          {{ if lt $currentIndex (sub (len $siblings) 1) }}
            {{ $nextArticle := index $siblings (add $currentIndex 1) }}
            <a href="{{ $nextArticle.RelPermalink }}" class="flex-1 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-vsk1 hover:text-white dark:hover:bg-vsk1 transition-colors text-right">
              <div class="text-sm text-gray-500 dark:text-gray-400 mb-1">Siguiente →</div>
              <div class="font-semibold">{{ $nextArticle.Title }}</div>
            </a>
          {{ else }}
            <div class="flex-1"></div>
          {{ end }}
        </div>
      </div>
    </div>

    <div class="hidden w-4/12 mx-8 lg:block">
      {{ partial "sections/sidebar-docs.html" . -}}
    </div>

  </div>
</main>

{{ end }}